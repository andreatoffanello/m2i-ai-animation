<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>AI Animation Dev</title>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0" />
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
				background: #f5f5f7;
				min-height: 100vh;
				display: flex;
				align-items: center;
				justify-content: center;
			}

			#wrapper {
				width: 100%;
				max-width: 600px;
				padding: 20px;
				position: relative;
				min-height: 400px;
			}

			#textForm {
				background: white;
				padding: 30px;
				border-radius: 20px;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
				transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
			}

			#textForm.hidden {
				opacity: 0;
				visibility: hidden;
				transform: translate(-50%, -50%);
			}

			.textarea {
				width: 100%;
				height: 150px;
				padding: 15px;
				border: 2px solid #e0e0e0;
				border-radius: 12px;
				font-size: 16px;
				margin-bottom: 20px;
				resize: none;
				transition: border-color 0.3s ease;
				font-family: inherit;
			}

			.textarea:focus {
				outline: none;
				border-color: #5c20dd;
			}

			.submit-button {
				background: #5c20dd;
				color: white;
				border: none;
				padding: 12px 24px;
				border-radius: 12px;
				font-size: 16px;
				cursor: pointer;
				display: flex;
				align-items: center;
				gap: 8px;
				transition: all 0.3s ease;
			}

			.submit-button:hover {
				background: #4a1ab8;
				transform: translateY(-2px);
			}

			.material-symbols-rounded {
				font-size: 24px;
			}

			#ai_animation {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				width: 100%;
				max-width: min(400px, 100vw);
				aspect-ratio: 1/1;
				opacity: 0;
				visibility: hidden;
				transition: opacity 0.5s ease, visibility 0.5s ease;
			}

			#ai_animation canvas {
				width: 100% !important;
				height: 100% !important;
				aspect-ratio: 1/1;
			}

			#ai_animation.visible {
				opacity: 1;
				visibility: visible;
			}

			#completion-message {
				transform: translate(-50%, -50%) translateY(20px);
			}

			#completion-message.visible {
				opacity: 1;
				visibility: visible;
				transform: translate(-50%, -50%) translateY(0);
			}

			#completion-message h3 {
				color: #5c20dd;
				margin-bottom: 10px;
				font-size: 24px;
			}

			#completion-message p {
				color: #666;
				font-size: 16px;
			}

			.content-container {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				width: 100%;
				opacity: 0;
				visibility: hidden;
				transition: opacity 0.5s ease, visibility 0.5s ease;
			}

			#textForm,
			#ai_animation,
			#completion-message {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				width: calc(100% - 40px);
				/* max-width: 480px; */
				opacity: 0;
				visibility: hidden;
				transition: opacity 0.5s ease, visibility 0.5s ease;
				margin: 0;
			}

			#textForm.visible,
			#ai_animation.visible,
			#completion-message.visible {
				opacity: 1;
				visibility: visible;
			}

			/* Stili per il box finale */
			#completion-message {
				text-align: center;
				background: white;
				padding: 30px;
				border-radius: 20px;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
			}

			/* Stile per il nuovo pulsante */
			.view-solution-button {
				background: #5c20dd;
				color: white;
				border: none;
				padding: 12px 24px;
				border-radius: 12px;
				font-size: 16px;
				cursor: pointer;
				display: inline-flex;
				align-items: center;
				gap: 8px;
				margin-top: 20px;
				transition: all 0.3s ease;
			}

			.view-solution-button:hover {
				background: #4a1ab8;
				transform: translateY(-2px);
			}

			/* Animazione per il box finale */
			@keyframes fadeInUp {
				from {
					opacity: 0;
					transform: translate(-50%, calc(-50% + 20px));
				}
				to {
					opacity: 1;
					transform: translate(-50%, -50%);
				}
			}

			#completion-message.visible {
				animation: fadeInUp 0.5s ease forwards;
			}
		</style>
	</head>
	<body>
		<div id="wrapper">
			<form id="textForm" class="visible">
				<textarea id="ai_text" class="textarea" placeholder="Descrivi la tua situazione...">Buongiorno, 

mi chiamo Marco e attualmente vivo e lavoro all’estero da circa cinque anni. Ho deciso di rientrare in Italia e sono interessato a comprendere come il Regime del Rientro dei Cervelli possa influenzare la mia situazione fiscale. Attualmente, lavoro come ingegnere in una multinazionale e ho un contratto a tempo indeterminato.

Vorrei sapere se, per poter accedere ai benefici fiscali offerti da questo regime, devo soddisfare determinati requisiti specifici in termini di permanenza all’estero e tipo di contratto. Inoltre, mi interessa capire se ci sono agevolazioni particolari per chi ha già un’esperienza professionale consolidata all'estero e come queste possano interagire con eventuali investimenti o attività lavorative che intendo avviare al mio rientro in Italia.

Infine, avrei bisogno di chiarimenti su come gestire le mie dichiarazioni fiscali, sia per il periodo in cui ho vissuto all’estero, sia per i redditi che intendo guadagnare in Italia. Resto in attesa di una consulenza per discutere queste questioni in dettaglio e valutare le strategie più adatte per la mia situazione.

Grazie mille!

Marco
                </textarea>
				<button type="submit" class="submit-button">
					<span class="material-symbols-rounded">auto_awesome</span>
					Elabora con AI
				</button>
			</form>

			<div id="ai_animation"></div>

			<div id="completion-message">
				<h3>Elaborazione Completata</h3>
				<p>I dati sono stati processati con successo dall'intelligenza artificiale.</p>
				<button class="view-solution-button" onclick="location.reload()">
					<span class="material-symbols-rounded">rocket_launch</span>
					Visualizza la tua soluzione
				</button>
			</div>
		</div>

		<script type="module">
			import AiAnimation from "/src/index.js";

			let animation;
			let animationTimeout;

			window.addEventListener("load", function () {
				animation = new AiAnimation({
					containerId: "ai_animation",
				});

				const form = document.getElementById("textForm");
				const aiContainer = document.getElementById("ai_animation");
				const completionMessage = document.getElementById("completion-message");

				form.addEventListener("submit", function (e) {
					e.preventDefault();

					if (animationTimeout) {
						clearTimeout(animationTimeout);
					}

					form.classList.remove("visible");

					setTimeout(() => {
						aiContainer.classList.add("visible");
						const text = document.getElementById("ai_text").value;
						animation.startEnterAnimation(text);
					}, 500);

					animationTimeout = setTimeout(() => {
						animation.startExitAnimation();

						setTimeout(() => {
							aiContainer.classList.remove("visible");
							completionMessage.classList.add("visible");
						}, 1000);
					}, 20000);
				});
			});
		</script>
	</body>
</html>
